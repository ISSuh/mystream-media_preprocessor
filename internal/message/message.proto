syntax = "proto3";

package message;

option go_package = "./;message";

service MediaFrame {
  rpc SendFrame (stream Frame) returns (Disconnected) {}
}

message Timestamp {
  uint64 pts = 1;
  uint64 dts = 2;
}

message Frame {
  enum Type {
    VIDEO = 0;
    AUDIO = 1;
  }
  
  Type type = 1;
  Timestamp timestamp = 2;
  int32 session_id = 3;

  bytes buffer = 4;
}

message Disconnected {
  int32 session_id = 1;
}
